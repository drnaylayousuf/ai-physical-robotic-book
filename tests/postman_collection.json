{
  "info": {
    "name": "RAG Chatbot API Collection",
    "description": "API collection for testing the RAG Chatbot for Physical AI and Humanoid Robotics Book",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        }
      },
      "response": []
    },
    {
      "name": "Get Book Metadata",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/metadata",
          "host": ["{{base_url}}"],
          "path": ["metadata"]
        }
      },
      "response": []
    },
    {
      "name": "User Registration",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"testuser\",\n  \"email\": \"test@example.com\",\n  \"password\": \"securepassword123\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/auth/register",
          "host": ["{{base_url}}"],
          "path": ["auth", "register"]
        }
      },
      "response": []
    },
    {
      "name": "User Login",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"username\": \"testuser\",\n  \"password\": \"securepassword123\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/auth/login",
          "host": ["{{base_url}}"],
          "path": ["auth", "login"]
        }
      },
      "response": []
    },
    {
      "name": "Get User Profile",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{access_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/auth/profile",
          "host": ["{{base_url}}"],
          "path": ["auth", "profile"]
        }
      },
      "response": []
    },
    {
      "name": "Ask Question (Full Book Mode)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{access_token}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"question\": \"What is Physical AI?\",\n  \"mode\": \"full_book\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/ask",
          "host": ["{{base_url}}"],
          "path": ["ask"]
        }
      },
      "response": []
    },
    {
      "name": "Ask Question (Selected Text Mode)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{access_token}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"question\": \"What does this text explain?\",\n  \"mode\": \"selected_text\",\n  \"selected_text\": \"Physical AI refers to artificial intelligence systems that interact with the physical world through sensors and actuators.\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/ask",
          "host": ["{{base_url}}"],
          "path": ["ask"]
        }
      },
      "response": []
    },
    {
      "name": "Admin Dashboard (Requires Admin Token)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/admin",
          "host": ["{{base_url}}"],
          "path": ["admin"]
        }
      },
      "response": []
    },
    {
      "name": "Ingest Content (Admin Only)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"source_path\": \"./doc\",\n  \"collection_name\": \"book_chunks\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/ingest",
          "host": ["{{base_url}}"],
          "path": ["ingest"]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set base URL for local development",
          "pm.environment.set(\"base_url\", \"http://localhost:8000\");"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Tests will be added based on response expectations",
          "pm.test(\"Status code is 200\", function () {",
          "    pm.response.to.have.status(200);",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string"
    }
  ]
}