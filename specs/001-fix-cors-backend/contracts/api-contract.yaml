# API Contract: Book Chatbot API

## Overview
This document describes the API contract for the book chatbot system that will be accessible from the frontend.

## API Endpoint: /api/ask

### HTTP Method
POST

### Description
Accepts a user question and returns a response based on the RAG (Retrieval-Augmented Generation) system.

### Request

#### Headers
- `Content-Type: application/json`
- `Accept: application/json`

#### Body
```json
{
  "question": "string (required)",
  "context": "string (optional)"
}
```

#### Example Request
```json
{
  "question": "What is the main topic of chapter 3?"
}
```

### Response

#### Success Response (200 OK)
```json
{
  "response": "string",
  "sources": ["string"],
  "timestamp": "ISO 8601 datetime string"
}
```

#### Error Response (400 Bad Request)
```json
{
  "error": "string",
  "details": "string"
}
```

#### Example Success Response
```json
{
  "response": "Chapter 3 discusses the fundamentals of humanoid robotics...",
  "sources": ["/books/humanoid-robotics/chapter3.pdf"],
  "timestamp": "2025-12-11T10:30:00Z"
}
```

## CORS Configuration

### Allowed Origins
- `http://localhost:3000` (development)
- Production origin (to be specified)

### Allowed Methods
- `GET`
- `POST`
- `OPTIONS`

### Allowed Headers
- `Content-Type`
- `Authorization`
- `X-Requested-With`

### Credentials
- `allow_credentials: true` (if authentication is implemented)